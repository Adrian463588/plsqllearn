import { MCQuestion, CodeChallenge } from '@/types';

export const cat01MCQ: MCQuestion[] = [
  {
    id: 'MCQ_001',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Apa kepanjangan dari PL/SQL?',
    options: [
      'Programming Language SQL',
      'Procedural Language/Structured Query Language',
      'Programmatic Logic SQL',
      'Procedural Logic/Sequential Query Language',
    ],
    correctAnswer: 1,
    explanation:
      'PL/SQL adalah singkatan dari Procedural Language/Structured Query Language. Ini adalah bahasa pemrograman prosedural yang dikembangkan Oracle untuk memperluas kemampuan SQL standar.',
    tags: ['basic', 'definition', 'introduction'],
  },
  {
    id: 'MCQ_002',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Manakah yang BUKAN merupakan keuntungan menggunakan PL/SQL?',
    options: [
      'Mendukung pemrograman prosedural',
      'Eksekusi lebih cepat karena dikirim sebagai satu blok ke server',
      'Portabilitas penuh ke semua database non-Oracle',
      'Integrasi erat dengan SQL',
    ],
    correctAnswer: 2,
    explanation:
      'PL/SQL adalah bahasa proprietary Oracle dan tidak bisa langsung dijalankan pada database lain seperti MySQL atau PostgreSQL. Keuntungan PL/SQL lainnya termasuk dukungan prosedural, performa block execution, dan integrasi SQL.',
    tags: ['basic', 'advantages'],
  },
  {
    id: 'MCQ_003',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Bagian apa yang WAJIB ada dalam sebuah PL/SQL block?',
    options: [
      'DECLARE dan BEGIN',
      'BEGIN dan END',
      'DECLARE, BEGIN, dan END',
      'DECLARE, BEGIN, EXCEPTION, dan END',
    ],
    correctAnswer: 1,
    explanation:
      'Bagian BEGIN dan END wajib ada dalam setiap PL/SQL block. DECLARE dan EXCEPTION bersifat opsional. BEGIN menandai awal execution section, dan END menandai akhir block.',
    tags: ['block', 'structure', 'syntax'],
  },
  {
    id: 'MCQ_004',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Apa perbedaan utama antara anonymous block dan named block di PL/SQL?',
    options: [
      'Anonymous block lebih cepat dari named block',
      'Named block disimpan di database dan dapat dipanggil kembali',
      'Anonymous block hanya bisa digunakan di SQL*Plus',
      'Named block tidak memerlukan BEGIN-END',
    ],
    correctAnswer: 1,
    explanation:
      'Named blocks (procedures, functions, packages) disimpan di database dan dapat dipanggil berulang kali. Anonymous blocks bersifat sementara dan tidak disimpan â€” biasanya digunakan untuk skrip ad-hoc.',
    tags: ['block', 'anonymous', 'named'],
  },
  {
    id: 'MCQ_005',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Keyword apa yang digunakan untuk memulai execution section di PL/SQL?',
    options: ['START', 'EXECUTE', 'BEGIN', 'RUN'],
    correctAnswer: 2,
    explanation:
      'Keyword BEGIN digunakan untuk memulai execution section (bagian eksekusi) dari sebuah PL/SQL block. Semua pernyataan eksekusi ditulis antara BEGIN dan END.',
    tags: ['block', 'syntax', 'begin'],
  },
  {
    id: 'MCQ_006',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Apa fungsi dari forward slash (/) di akhir PL/SQL block?',
    options: [
      'Menandai akhir komentar',
      'Membagi block menjadi dua bagian',
      'Menjalankan (execute) PL/SQL block yang telah ditulis',
      'Menghapus block dari buffer',
    ],
    correctAnswer: 2,
    explanation:
      'Forward slash (/) di baris terpisah mengirimkan PL/SQL block dari buffer SQL*Plus ke Oracle server untuk dieksekusi. Ini berbeda dari semicolon (;) yang menandai akhir statement.',
    tags: ['syntax', 'execution'],
  },
  {
    id: 'MCQ_007',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'multiple_choice',
    question: 'Berapa panjang maksimal identifier (nama variabel) di PL/SQL?',
    options: ['30 karakter', '128 karakter', '256 karakter', 'Tidak ada batasan'],
    correctAnswer: 1,
    explanation:
      'Mulai dari Oracle 12c Release 2, panjang maksimal identifier adalah 128 karakter. Pada versi sebelumnya, batasnya adalah 30 karakter.',
    tags: ['identifier', 'syntax', 'rules'],
  },
  {
    id: 'MCQ_008',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'multiple_choice',
    question: 'Manakah yang VALID sebagai identifier PL/SQL?',
    options: ['2nd_variable', '_my_var', 'my-variable', 'total_amount$'],
    correctAnswer: 3,
    explanation:
      'Identifier PL/SQL harus diawali huruf, dan bisa mengandung huruf, angka, underscore (_), dollar sign ($), dan hash (#). Identifier tidak boleh dimulai dengan angka atau underscore, dan tidak boleh mengandung tanda hubung (-).',
    tags: ['identifier', 'naming', 'rules'],
  },
  {
    id: 'MCQ_009',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'multiple_choice',
    question: 'Bagaimana cara menulis komentar satu baris di PL/SQL?',
    options: [
      '// ini komentar',
      '-- ini komentar',
      '# ini komentar',
      '/* ini komentar */',
    ],
    correctAnswer: 1,
    explanation:
      'Komentar satu baris di PL/SQL menggunakan double dash (--). Untuk komentar multi-baris, gunakan /* ... */. PL/SQL tidak mendukung // atau # untuk komentar.',
    tags: ['comment', 'syntax'],
  },
  {
    id: 'MCQ_010',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'multiple_choice',
    question: 'Apa output dari block berikut?\n\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Halo\' || \' \' || \'Dunia\');\nEND;\n/',
    options: ['Halo Dunia', 'HaloDunia', 'Error', 'NULL'],
    correctAnswer: 0,
    explanation:
      'Operator || digunakan untuk concatenation (penggabungan) string di PL/SQL. Hasilnya adalah "Halo Dunia" karena spasi juga digabungkan.',
    tags: ['output', 'concatenation', 'dbms_output'],
  },
  {
    id: 'MCQ_011',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'DBMS_OUTPUT.PUT_LINE digunakan untuk apa?',
    options: [
      'Membaca input dari pengguna',
      'Menampilkan output ke layar/console',
      'Menulis data ke file',
      'Mengirim email',
    ],
    correctAnswer: 1,
    explanation:
      'DBMS_OUTPUT.PUT_LINE adalah prosedur bawaan Oracle yang menampilkan teks ke output buffer. Di SQL*Plus, harus mengaktifkan SET SERVEROUTPUT ON terlebih dahulu.',
    tags: ['output', 'dbms_output', 'basic'],
  },
  {
    id: 'MCQ_012',
    category: 'pengenalan-plsql',
    difficulty: 'Hard',
    type: 'multiple_choice',
    question: 'Apa yang terjadi jika terdapat error di bagian DECLARE dari PL/SQL block?',
    options: [
      'Block tetap dieksekusi, error diabaikan',
      'Hanya bagian EXCEPTION yang dieksekusi',
      'Seluruh block gagal dan tidak dieksekusi',
      'Oracle secara otomatis memperbaiki error',
    ],
    correctAnswer: 2,
    explanation:
      'Jika ada compile-time error di bagian DECLARE (seperti tipe data yang salah atau syntax error), seluruh block gagal sebelum sampai ke bagian BEGIN. Exception handler tidak bisa menangkap error compile-time.',
    tags: ['error', 'declare', 'compilation'],
  },
  {
    id: 'MCQ_013',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'multiple_choice',
    question: 'Dalam nested blocks, bagaimana scope variabel bekerja?',
    options: [
      'Variabel inner block bisa diakses dari outer block',
      'Variabel outer block bisa diakses dari inner block',
      'Variabel tidak bisa dibagikan antar blocks',
      'Semua variabel bersifat global',
    ],
    correctAnswer: 1,
    explanation:
      'Dalam nested blocks, variabel yang dideklarasikan di outer block bisa diakses dari inner block. Namun, variabel inner block TIDAK bisa diakses dari outer block. Ini mengikuti aturan scope lexical.',
    tags: ['scope', 'nested', 'blocks'],
  },
  {
    id: 'MCQ_014',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Bagian mana dari PL/SQL block yang bersifat opsional?',
    options: [
      'BEGIN',
      'END',
      'DECLARE dan EXCEPTION',
      'Semua bagian wajib',
    ],
    correctAnswer: 2,
    explanation:
      'Bagian DECLARE (deklarasi variabel) dan EXCEPTION (penanganan error) bersifat opsional. Hanya BEGIN dan END yang wajib ada dalam setiap PL/SQL block.',
    tags: ['block', 'structure', 'optional'],
  },
  {
    id: 'MCQ_015',
    category: 'pengenalan-plsql',
    difficulty: 'Hard',
    type: 'multiple_choice',
    question: 'Apa yang dimaksud dengan "bind variable" di PL/SQL?',
    options: [
      'Variabel yang nilainya tetap (constant)',
      'Variabel yang dibuat di lingkungan host dan digunakan di PL/SQL',
      'Variabel yang hanya bisa menyimpan angka',
      'Variabel yang otomatis dihapus setelah block selesai',
    ],
    correctAnswer: 1,
    explanation:
      'Bind variable (variabel host) dibuat di lingkungan seperti SQL*Plus menggunakan perintah VARIABLE, lalu bisa diakses di PL/SQL block menggunakan prefix titik dua (:). Contoh: :v_result.',
    tags: ['bind', 'variable', 'host'],
  },
  {
    id: 'MCQ_016',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'multiple_choice',
    question: 'Manakah delimiter yang digunakan untuk assignment di PL/SQL?',
    options: ['=', ':=', '==', '=>'],
    correctAnswer: 1,
    explanation: 'Operator := digunakan untuk assignment (menetapkan nilai ke variabel) di PL/SQL. Tanda = digunakan untuk perbandingan, dan => digunakan untuk named notation pada parameter.',
    tags: ['operator', 'assignment', 'syntax'],
  },
  {
    id: 'MCQ_017',
    category: 'pengenalan-plsql',
    difficulty: 'Hard',
    type: 'multiple_choice',
    question: 'Apa yang dimaksud dengan PL/SQL Engine?',
    options: [
      'Software terpisah yang harus diinstal untuk menjalankan PL/SQL',
      'Komponen di Oracle Server yang memproses dan menjalankan PL/SQL blocks',
      'Editor khusus untuk menulis PL/SQL',
      'Database driver untuk koneksi PL/SQL',
    ],
    correctAnswer: 1,
    explanation: 'PL/SQL Engine adalah komponen terintegrasi dalam Oracle Server dan juga beberapa client tools. Engine ini memisahkan pemrosesan PL/SQL (procedural) dan SQL (data), mengeksekusi procedural statements sendiri dan mengirim SQL statements ke SQL engine.',
    tags: ['engine', 'architecture', 'advanced'],
  },
  {
    id: 'MCQ_018',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'multiple_choice',
    question: 'Manakah pernyataan yang BENAR tentang PL/SQL?',
    options: [
      'PL/SQL bersifat case-sensitive untuk keyword',
      'Setiap statement PL/SQL harus diakhiri dengan titik koma (;)',
      'PL/SQL hanya bisa digunakan di SQL*Plus',
      'PL/SQL tidak mendukung tipe data DATE',
    ],
    correctAnswer: 1,
    explanation: 'Setiap statement di PL/SQL harus diakhiri dengan tanda titik koma (;). PL/SQL bersifat case-insensitive untuk keyword, bisa digunakan di berbagai tools (SQL Developer, TOAD, dll.), dan mendukung tipe data DATE.',
    tags: ['syntax', 'basic', 'rules'],
  },
  {
    id: 'MCQ_019',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'multiple_choice',
    question: 'Apa perbedaan antara komentar -- dan /* */ di PL/SQL?',
    options: [
      'Keduanya sama saja',
      '-- untuk satu baris, /* */ untuk multi-baris',
      '-- untuk multi-baris, /* */ untuk satu baris',
      '/* */ hanya untuk dokumentasi, -- untuk debug',
    ],
    correctAnswer: 1,
    explanation: 'Komentar -- hanya berlaku sampai akhir baris (single-line comment). Komentar /* */ bisa mencakup beberapa baris (multi-line comment) dan sering digunakan untuk dokumentasi block yang lebih panjang.',
    tags: ['comment', 'syntax'],
  },
  {
    id: 'MCQ_020',
    category: 'pengenalan-plsql',
    difficulty: 'Hard',
    type: 'multiple_choice',
    question: 'Apa keuntungan utama PL/SQL dibanding mengirim SQL statement satu per satu?',
    options: [
      'PL/SQL bisa membuat tabel baru',
      'Mengurangi network traffic karena seluruh block dikirim sekaligus',
      'PL/SQL tidak memerlukan koneksi database',
      'PL/SQL selalu lebih cepat dari SQL murni',
    ],
    correctAnswer: 1,
    explanation: 'Salah satu keuntungan besar PL/SQL adalah mengurangi network traffic. Alih-alih mengirim banyak SQL statement satu per satu, seluruh PL/SQL block dikirim sekaligus ke server, mengurangi round-trip antara client dan server.',
    tags: ['performance', 'advantage', 'network'],
  },
];

export const cat01Code: CodeChallenge[] = [
  {
    id: 'CODE_001',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Buatlah sebuah anonymous PL/SQL block yang menampilkan "Hello World PL/SQL!" menggunakan DBMS_OUTPUT.PUT_LINE.',
    requirements: [
      'Gunakan struktur anonymous block (BEGIN-END)',
      'Tampilkan teks "Hello World PL/SQL!" menggunakan DBMS_OUTPUT.PUT_LINE',
      'Akhiri block dengan semicolon dan forward slash',
    ],
    starterCode: '-- Tulis kode PL/SQL Anda di sini\n\nBEGIN\n  -- Tampilkan output\n  \nEND;\n/',
    solution: 'BEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Hello World PL/SQL!\');\nEND;\n/',
    hints: [
      'Gunakan DBMS_OUTPUT.PUT_LINE() untuk menampilkan teks',
      'String literal harus diapit tanda kutip tunggal (\'...\')',
      'Jangan lupa titik koma (;) setelah setiap statement',
    ],
    validationRules: {
      mustContain: ['BEGIN', 'END', 'DBMS_OUTPUT.PUT_LINE'],
      structure: 'anonymous_block',
    },
    tags: ['hello-world', 'basic', 'output'],
  },
  {
    id: 'CODE_002',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Buatlah nested block (block di dalam block) di mana outer block memiliki variabel v_outer dengan nilai \'Luar\' dan inner block memiliki variabel v_inner dengan nilai \'Dalam\'. Tampilkan kedua variabel dari inner block.',
    requirements: [
      'Gunakan DECLARE-BEGIN-END untuk outer block',
      'Deklarasikan v_outer VARCHAR2(20) di outer block',
      'Buat inner block di dalam outer block',
      'Deklarasikan v_inner VARCHAR2(20) di inner block',
      'Tampilkan kedua variabel menggunakan DBMS_OUTPUT.PUT_LINE dari inner block',
    ],
    starterCode: 'DECLARE\n  -- Variabel outer\n  \nBEGIN\n  -- Inner block\n  DECLARE\n    -- Variabel inner\n    \n  BEGIN\n    -- Tampilkan variabel\n    \n  END;\nEND;\n/',
    solution: 'DECLARE\n  v_outer VARCHAR2(20) := \'Luar\';\nBEGIN\n  DECLARE\n    v_inner VARCHAR2(20) := \'Dalam\';\n  BEGIN\n    DBMS_OUTPUT.PUT_LINE(\'Outer: \' || v_outer);\n    DBMS_OUTPUT.PUT_LINE(\'Inner: \' || v_inner);\n  END;\nEND;\n/',
    hints: [
      'Deklarasikan variabel dengan syntax: nama_variabel TIPE := nilai;',
      'Inner block bisa mengakses variabel dari outer block',
      'Gunakan || untuk string concatenation',
    ],
    validationRules: {
      mustContain: ['DECLARE', 'BEGIN', 'END', 'DBMS_OUTPUT.PUT_LINE', 'VARCHAR2'],
      mustDeclare: ['v_outer', 'v_inner'],
      structure: 'anonymous_block',
    },
    tags: ['nested', 'scope', 'blocks'],
  },
  {
    id: 'CODE_003',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Buatlah PL/SQL block yang menunjukkan variable scope. Deklarasikan variabel v_nama di outer block, lalu buat inner block yang mendeklarasikan variabel v_nama juga (shadowing). Tampilkan nilai dari inner block.',
    requirements: [
      'Outer block mendeklarasikan v_nama := \'Outer Name\'',
      'Inner block mendeklarasikan v_nama := \'Inner Name\'',
      'Tampilkan v_nama dari inner block (harus menampilkan \'Inner Name\')',
      'Setelah inner block selesai, tampilkan v_nama dari outer block (harus menampilkan \'Outer Name\')',
    ],
    starterCode: 'DECLARE\n  v_nama VARCHAR2(50) := \'Outer Name\';\nBEGIN\n  -- Sebelum inner block\n  DBMS_OUTPUT.PUT_LINE(\'Sebelum: \' || v_nama);\n  \n  -- Inner block dengan shadowing\n  DECLARE\n    \n  BEGIN\n    \n  END;\n  \n  -- Setelah inner block\n  \nEND;\n/',
    solution: 'DECLARE\n  v_nama VARCHAR2(50) := \'Outer Name\';\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Sebelum: \' || v_nama);\n  \n  DECLARE\n    v_nama VARCHAR2(50) := \'Inner Name\';\n  BEGIN\n    DBMS_OUTPUT.PUT_LINE(\'Inner: \' || v_nama);\n  END;\n  \n  DBMS_OUTPUT.PUT_LINE(\'Setelah: \' || v_nama);\nEND;\n/',
    hints: [
      'Variable shadowing terjadi ketika inner block mendeklarasikan variabel dengan nama sama',
      'Inner block akan menggunakan variabel lokal-nya (inner)',
      'Setelah inner block selesai, outer block melihat variabel aslinya lagi',
    ],
    validationRules: {
      mustContain: ['DECLARE', 'BEGIN', 'END', 'DBMS_OUTPUT.PUT_LINE', 'VARCHAR2'],
      mustDeclare: ['v_nama'],
      structure: 'anonymous_block',
    },
    tags: ['scope', 'shadowing', 'nested'],
  },
  {
    id: 'CODE_004',
    category: 'pengenalan-plsql',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Buatlah PL/SQL block yang memiliki section EXCEPTION sederhana. Block harus mendeklarasikan variabel v_angka NUMBER, mencoba membaginya dengan nol, dan menangkap exception ZERO_DIVIDE.',
    requirements: [
      'Deklarasikan v_angka NUMBER := 10',
      'Deklarasikan v_hasil NUMBER',
      'Di BEGIN section, coba bagi v_angka dengan 0',
      'Tangkap ZERO_DIVIDE exception',
      'Tampilkan pesan error di exception handler',
    ],
    starterCode: 'DECLARE\n  v_angka NUMBER := 10;\n  v_hasil NUMBER;\nBEGIN\n  -- Coba bagi dengan nol\n  \n  \nEXCEPTION\n  -- Tangkap error\n  \nEND;\n/',
    solution: 'DECLARE\n  v_angka NUMBER := 10;\n  v_hasil NUMBER;\nBEGIN\n  v_hasil := v_angka / 0;\n  DBMS_OUTPUT.PUT_LINE(\'Hasil: \' || v_hasil);\nEXCEPTION\n  WHEN ZERO_DIVIDE THEN\n    DBMS_OUTPUT.PUT_LINE(\'Error: Tidak bisa membagi dengan nol!\');\nEND;\n/',
    hints: [
      'Gunakan syntax: WHEN nama_exception THEN ...',
      'ZERO_DIVIDE adalah predefined exception di Oracle',
      'Exception handler ditulis sebelum END;',
    ],
    validationRules: {
      mustContain: ['DECLARE', 'BEGIN', 'END', 'EXCEPTION', 'ZERO_DIVIDE', 'WHEN'],
      mustDeclare: ['v_angka', 'v_hasil'],
      structure: 'anonymous_block',
    },
    tags: ['exception', 'zero_divide', 'basic-error-handling'],
  },
  {
    id: 'CODE_005',
    category: 'pengenalan-plsql',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Buatlah PL/SQL block sederhana yang menampilkan informasi diri Anda: nama, umur, dan universitas. Gunakan tiga variabel dan DBMS_OUTPUT.PUT_LINE.',
    requirements: [
      'Deklarasikan variabel v_nama VARCHAR2(50)',
      'Deklarasikan variabel v_umur NUMBER',
      'Deklarasikan variabel v_univ VARCHAR2(100)',
      'Assign nilai ke setiap variabel',
      'Tampilkan ketiga informasi menggunakan DBMS_OUTPUT.PUT_LINE',
    ],
    starterCode: 'DECLARE\n  -- Deklarasi variabel\n  \nBEGIN\n  -- Tampilkan informasi\n  \nEND;\n/',
    solution: 'DECLARE\n  v_nama VARCHAR2(50) := \'John Doe\';\n  v_umur NUMBER := 20;\n  v_univ VARCHAR2(100) := \'Universitas Indonesia\';\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Nama: \' || v_nama);\n  DBMS_OUTPUT.PUT_LINE(\'Umur: \' || v_umur);\n  DBMS_OUTPUT.PUT_LINE(\'Universitas: \' || v_univ);\nEND;\n/',
    hints: [
      'Gunakan := untuk assignment',
      'VARCHAR2 untuk teks, NUMBER untuk angka',
      'Gunakan || untuk concatenation string',
    ],
    validationRules: {
      mustContain: ['DECLARE', 'BEGIN', 'END', 'VARCHAR2', 'NUMBER', 'DBMS_OUTPUT.PUT_LINE'],
      mustDeclare: ['v_nama', 'v_umur', 'v_univ'],
      structure: 'anonymous_block',
    },
    tags: ['variables', 'output', 'basic'],
  },
];
