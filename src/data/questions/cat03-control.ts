import { MCQuestion, CodeChallenge } from '@/types';

export const cat03MCQ: MCQuestion[] = [
  { id: 'MCQ_039', category: 'control-structures', difficulty: 'Easy', type: 'multiple_choice', question: 'Syntax mana yang BENAR untuk IF statement di PL/SQL?', options: ['IF (x > 0) { ... }', 'IF x > 0 THEN ... END IF;', 'IF x > 0 BEGIN ... END;', 'IF x > 0 DO ... END DO;'], correctAnswer: 1, explanation: 'Syntax IF di PL/SQL: IF kondisi THEN ... END IF; Kurung kurawal dan BEGIN tidak digunakan untuk IF.', tags: ['if', 'syntax'] },
  { id: 'MCQ_040', category: 'control-structures', difficulty: 'Easy', type: 'multiple_choice', question: 'Apa perbedaan CASE expression dan CASE statement?', options: ['Tidak ada perbedaan', 'CASE expression mengembalikan nilai, CASE statement menjalankan aksi', 'CASE statement mengembalikan nilai, CASE expression menjalankan aksi', 'CASE expression hanya untuk angka'], correctAnswer: 1, explanation: 'CASE expression mengembalikan nilai (bisa di-assign ke variabel), sementara CASE statement menjalankan satu atau lebih statement berdasarkan kondisi.', tags: ['case', 'expression', 'statement'] },
  { id: 'MCQ_041', category: 'control-structures', difficulty: 'Easy', type: 'multiple_choice', question: 'Bagaimana cara keluar dari sebuah loop di PL/SQL?', options: ['BREAK;', 'EXIT;', 'STOP;', 'QUIT;'], correctAnswer: 1, explanation: 'Perintah EXIT digunakan untuk keluar dari loop. Bisa juga menggunakan EXIT WHEN kondisi; untuk keluar dengan syarat tertentu.', tags: ['loop', 'exit'] },
  { id: 'MCQ_042', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Loop mana yang paling cocok ketika jumlah iterasi sudah diketahui?', options: ['WHILE LOOP', 'Simple LOOP', 'FOR LOOP', 'GOTO'], correctAnswer: 2, explanation: 'FOR LOOP paling cocok ketika jumlah iterasi sudah diketahui karena memiliki built-in counter dan range. Contoh: FOR i IN 1..10 LOOP ... END LOOP;', tags: ['for-loop', 'iteration'] },
  { id: 'MCQ_043', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa fungsi CONTINUE statement di PL/SQL?', options: ['Melanjutkan eksekusi program setelah error', 'Melompat ke iterasi berikutnya dalam loop', 'Melanjutkan loop yang di-pause', 'Melanjutkan block yang di-stop'], correctAnswer: 1, explanation: 'CONTINUE melompat ke iterasi berikutnya dalam loop, melewatkan sisa kode dalam iterasi saat ini. Tersedia mulai Oracle 11g.', tags: ['continue', 'loop'] },
  { id: 'MCQ_044', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Kapan sebaiknya menggunakan ELSIF dibanding nested IF?', options: ['Ketika ada banyak kondisi yang saling eksklusif', 'Ketika kondisi tidak berkaitan', 'Ketika perlu performa lebih baik saja', 'Tidak ada perbedaan fungsional'], correctAnswer: 0, explanation: 'ELSIF lebih rapi dan efisien ketika mengecek banyak kondisi yang saling eksklusif (mutually exclusive). Nested IF lebih cocok untuk kondisi bersarang yang bergantung satu sama lain.', tags: ['elsif', 'nested-if'] },
  { id: 'MCQ_045', category: 'control-structures', difficulty: 'Hard', type: 'multiple_choice', question: 'Apa output dari kode berikut?\n\nDECLARE v_i NUMBER := 1;\nBEGIN\n  LOOP\n    EXIT WHEN v_i > 3;\n    DBMS_OUTPUT.PUT_LINE(v_i);\n    v_i := v_i + 1;\n  END LOOP;\nEND;', options: ['1 2 3 4', '1 2 3', '2 3 4', '1 2'], correctAnswer: 1, explanation: 'Loop dimulai dengan v_i=1. Saat v_i=1,2,3 output dicetak. Saat v_i menjadi 4, EXIT WHEN (4>3) bernilai TRUE dan loop berhenti. Jadi output: 1, 2, 3.', tags: ['loop', 'exit-when', 'output'] },
  { id: 'MCQ_046', category: 'control-structures', difficulty: 'Easy', type: 'multiple_choice', question: 'Bagaimana syntax FOR LOOP di PL/SQL?', options: ['FOR (i=1; i<=10; i++)', 'FOR i IN 1..10 LOOP ... END LOOP;', 'FOR i FROM 1 TO 10 DO ... END FOR;', 'FOREACH i IN RANGE(1,10) LOOP ... END LOOP;'], correctAnswer: 1, explanation: 'Syntax FOR LOOP di PL/SQL: FOR counter IN lower..upper LOOP ... END LOOP; Counter otomatis di-increment dan bersifat implisit (tidak perlu deklarasi).', tags: ['for-loop', 'syntax'] },
  { id: 'MCQ_047', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa fungsi NULL statement di PL/SQL?', options: ['Meng-assign NULL ke variabel', 'Menghapus data', 'Statement kosong yang tidak melakukan apa-apa (placeholder)', 'Mengecek apakah variabel NULL'], correctAnswer: 2, explanation: 'NULL statement adalah statement kosong yang tidak melakukan apa-apa. Berguna sebagai placeholder di bagian yang belum diimplementasi atau di EXCEPTION handler yang sengaja diabaikan.', tags: ['null-statement', 'placeholder'] },
  { id: 'MCQ_048', category: 'control-structures', difficulty: 'Hard', type: 'multiple_choice', question: 'Apakah penggunaan GOTO statement direkomendasikan di PL/SQL?', options: ['Ya, GOTO selalu lebih efisien', 'Tidak, GOTO tidak ada di PL/SQL', 'Tidak direkomendasikan karena membuat kode sulit dibaca dan di-maintain', 'Ya, tapi hanya di stored procedures'], correctAnswer: 2, explanation: 'Meskipun GOTO ada di PL/SQL, penggunaannya TIDAK direkomendasikan karena membuat control flow sulit dipahami (spaghetti code). Gunakan structured programming (IF, LOOP, EXIT) sebagai gantinya.', tags: ['goto', 'best-practice'] },
  { id: 'MCQ_049', category: 'control-structures', difficulty: 'Easy', type: 'multiple_choice', question: 'Apa syntax WHILE LOOP di PL/SQL?', options: ['WHILE (x < 10) { ... }', 'WHILE x < 10 LOOP ... END LOOP;', 'DO WHILE x < 10 ... END WHILE;', 'WHILE x < 10 DO ... DONE;'], correctAnswer: 1, explanation: 'Syntax WHILE LOOP: WHILE kondisi LOOP ... END LOOP; Kondisi dievaluasi sebelum setiap iterasi, jadi jika FALSE dari awal, body loop tidak pernah dieksekusi.', tags: ['while-loop', 'syntax'] },
  { id: 'MCQ_050', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Bagaimana cara membuat loop yang berjalan dari 10 ke 1 (reverse/mundur)?', options: ['FOR i IN 10..1 LOOP', 'FOR i IN REVERSE 1..10 LOOP', 'FOR i IN 1..10 REVERSE LOOP', 'FOR i IN 10 DOWNTO 1 LOOP'], correctAnswer: 1, explanation: 'Untuk reverse FOR LOOP, gunakan keyword REVERSE: FOR i IN REVERSE 1..10 LOOP. Range tetap ditulis dari kecil ke besar (1..10), dan REVERSE membalik arahnya.', tags: ['for-loop', 'reverse'] },
  { id: 'MCQ_051', category: 'control-structures', difficulty: 'Hard', type: 'multiple_choice', question: 'Apa yang terjadi jika WHILE LOOP condition selalu TRUE dan tidak ada EXIT?', options: ['Oracle otomatis menghentikan setelah 1000 iterasi', 'Terjadi infinite loop', 'Error compile-time', 'Loop berhenti setelah timeout 60 detik'], correctAnswer: 1, explanation: 'Jika kondisi WHILE selalu TRUE dan tidak ada EXIT statement, terjadi infinite loop. Oracle tidak memiliki batas iterasi otomatis. Loop bisa dihentikan dengan Ctrl+C atau kill session.', tags: ['infinite-loop', 'while'] },
  { id: 'MCQ_052', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Dalam nested loop, EXIT tanpa label akan keluar dari loop mana?', options: ['Semua loop', 'Loop terluar', 'Loop terdalam (innermost)', 'Error karena ambigu'], correctAnswer: 2, explanation: 'EXIT tanpa label hanya keluar dari loop terdalam (innermost). Untuk keluar dari loop luar, gunakan EXIT dengan label: EXIT outer_loop; setelah memberi label pada loop luar.', tags: ['nested-loop', 'exit', 'label'] },
  { id: 'MCQ_053', category: 'control-structures', difficulty: 'Easy', type: 'multiple_choice', question: 'Apa keyword yang mengakhiri IF statement di PL/SQL?', options: ['ENDIF', 'END IF;', 'FI', '}'], correctAnswer: 1, explanation: 'IF statement di PL/SQL diakhiri dengan END IF; (dua kata terpisah, diikuti semicolon). Ini berbeda dari beberapa bahasa lain yang menggunakan ENDIF atau fi.', tags: ['if', 'syntax', 'end-if'] },
  { id: 'MCQ_054', category: 'control-structures', difficulty: 'Hard', type: 'multiple_choice', question: 'Apa perbedaan simple LOOP dan WHILE LOOP?', options: ['Simple LOOP selalu dieksekusi minimal satu kali, WHILE bisa nol kali', 'WHILE LOOP selalu dieksekusi minimal satu kali', 'Sama saja, hanya syntax berbeda', 'Simple LOOP tidak bisa memiliki EXIT'], correctAnswer: 0, explanation: 'Simple LOOP (LOOP...END LOOP) selalu dieksekusi minimal sekali karena kondisi exit diperiksa di dalam loop-nya. WHILE LOOP mengecek kondisi terlebih dahulu, jadi bisa saja body-nya tidak pernah dieksekusi jika kondisi FALSE dari awal.', tags: ['loop', 'comparison'] },
  { id: 'MCQ_055', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Bagaimana cara menggunakan CASE statement untuk assign nilai berdasarkan grade?', options: ['CASE grade WHEN \'A\' THEN bonus := 1000; END CASE;', 'SWITCH grade CASE \'A\': bonus := 1000; BREAK;', 'CASE WHEN grade = \'A\' THEN bonus = 1000; END;', 'SELECT CASE grade WHEN \'A\' THEN 1000 END;'], correctAnswer: 0, explanation: 'CASE statement syntax: CASE selector WHEN value THEN statement; END CASE; Perhatikan diakhiri dengan END CASE; (bukan END IF atau END;).', tags: ['case', 'statement', 'syntax'] },
  { id: 'MCQ_056', category: 'control-structures', difficulty: 'Easy', type: 'multiple_choice', question: 'Counter pada FOR LOOP di PL/SQL bersifat apa?', options: ['Global - bisa diakses di luar loop', 'Perlu dideklarasikan di DECLARE', 'Implisit - otomatis dibuat dan hanya ada di dalam loop', 'Harus bertipe VARCHAR2'], correctAnswer: 2, explanation: 'Counter FOR LOOP bersifat implisit: otomatis dideklarasikan, hanya bisa diakses di dalam loop body, dan tidak bisa di-assign (read-only). Setelah loop selesai, counter tidak bisa diakses lagi.', tags: ['for-loop', 'counter', 'implicit'] },
  { id: 'MCQ_057', category: 'control-structures', difficulty: 'Hard', type: 'multiple_choice', question: 'Mana yang BENAR tentang EXIT WHEN vs IF...EXIT?', options: ['EXIT WHEN hanya bisa untuk kondisi sederhana', 'Keduanya secara fungsional sama, EXIT WHEN lebih ringkas', 'IF...EXIT lebih cepat dari EXIT WHEN', 'EXIT WHEN tidak bisa digunakan di WHILE LOOP'], correctAnswer: 1, explanation: 'EXIT WHEN kondisi; secara fungsional sama dengan IF kondisi THEN EXIT; END IF; EXIT WHEN lebih ringkas dan umumnya lebih disukai untuk readability.', tags: ['exit-when', 'if-exit', 'comparison'] },
  { id: 'MCQ_058', category: 'control-structures', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa output dari: FOR i IN 1..5 LOOP IF MOD(i,2) = 0 THEN CONTINUE; END IF; DBMS_OUTPUT.PUT_LINE(i); END LOOP;', options: ['1 2 3 4 5', '2 4', '1 3 5', '1 2 3'], correctAnswer: 2, explanation: 'CONTINUE melompat ke iterasi berikutnya. MOD(i,2)=0 TRUE untuk bilangan genap (2,4), sehingga yang dicetak hanya bilangan ganjil: 1, 3, 5.', tags: ['continue', 'mod', 'output'] },
];

export const cat03Code: CodeChallenge[] = [
  {
    id: 'CODE_013',
    category: 'control-structures',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Buatlah PL/SQL block yang mengklasifikasikan nilai ujian menjadi grade. Nilai >= 85 = A, >= 70 = B, >= 55 = C, >= 40 = D, sisanya = E.',
    requirements: ['Deklarasikan v_nilai NUMBER := 78', 'Deklarasikan v_grade VARCHAR2(1)', 'Gunakan IF-THEN-ELSIF untuk klasifikasi', 'Tampilkan grade'],
    starterCode: 'DECLARE\n  v_nilai NUMBER := 78;\n  v_grade VARCHAR2(1);\nBEGIN\n  -- Klasifikasi grade\n\n  DBMS_OUTPUT.PUT_LINE(\'Grade: \' || v_grade);\nEND;\n/',
    solution: 'DECLARE\n  v_nilai NUMBER := 78;\n  v_grade VARCHAR2(1);\nBEGIN\n  IF v_nilai >= 85 THEN\n    v_grade := \'A\';\n  ELSIF v_nilai >= 70 THEN\n    v_grade := \'B\';\n  ELSIF v_nilai >= 55 THEN\n    v_grade := \'C\';\n  ELSIF v_nilai >= 40 THEN\n    v_grade := \'D\';\n  ELSE\n    v_grade := \'E\';\n  END IF;\n  DBMS_OUTPUT.PUT_LINE(\'Grade: \' || v_grade);\nEND;\n/',
    hints: ['Gunakan IF-THEN-ELSIF-ELSE-END IF', 'Urutkan dari kondisi terbesar', 'Jangan lupa END IF; di akhir'],
    validationRules: { mustContain: ['IF', 'THEN', 'ELSIF', 'ELSE', 'END IF', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_nilai', 'v_grade'], structure: 'anonymous_block' },
    tags: ['if-elsif', 'grade', 'classification'],
  },
  {
    id: 'CODE_014',
    category: 'control-structures',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Gunakan CASE expression untuk menentukan nama hari dari nomor 1-7. 1=Senin, 2=Selasa, dst.',
    requirements: ['Deklarasikan v_nomor NUMBER := 3', 'Gunakan CASE expression', 'Tampilkan nama hari'],
    starterCode: 'DECLARE\n  v_nomor NUMBER := 3;\n  v_hari VARCHAR2(10);\nBEGIN\n  -- CASE expression\n\n  DBMS_OUTPUT.PUT_LINE(\'Hari: \' || v_hari);\nEND;\n/',
    solution: 'DECLARE\n  v_nomor NUMBER := 3;\n  v_hari VARCHAR2(10);\nBEGIN\n  v_hari := CASE v_nomor\n    WHEN 1 THEN \'Senin\'\n    WHEN 2 THEN \'Selasa\'\n    WHEN 3 THEN \'Rabu\'\n    WHEN 4 THEN \'Kamis\'\n    WHEN 5 THEN \'Jumat\'\n    WHEN 6 THEN \'Sabtu\'\n    WHEN 7 THEN \'Minggu\'\n    ELSE \'Invalid\'\n  END;\n  DBMS_OUTPUT.PUT_LINE(\'Hari: \' || v_hari);\nEND;\n/',
    hints: ['CASE expression: variabel := CASE selector WHEN val THEN result END;', 'Jangan lupa ELSE untuk nilai default', 'CASE expression tidak perlu END CASE, cukup END'],
    validationRules: { mustContain: ['CASE', 'WHEN', 'THEN', 'END', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_nomor', 'v_hari'], structure: 'anonymous_block' },
    tags: ['case', 'expression'],
  },
  {
    id: 'CODE_015',
    category: 'control-structures',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Buatlah FOR LOOP yang mencetak angka 1 sampai 10.',
    requirements: ['Gunakan FOR i IN 1..10 LOOP', 'Cetak setiap angka dengan DBMS_OUTPUT.PUT_LINE'],
    starterCode: 'BEGIN\n  -- FOR LOOP 1 sampai 10\n\nEND;\n/',
    solution: 'BEGIN\n  FOR i IN 1..10 LOOP\n    DBMS_OUTPUT.PUT_LINE(i);\n  END LOOP;\nEND;\n/',
    hints: ['Syntax: FOR counter IN lower..upper LOOP', 'Counter tidak perlu dideklarasikan', 'Akhiri dengan END LOOP;'],
    validationRules: { mustContain: ['FOR', 'IN', 'LOOP', 'END LOOP', 'DBMS_OUTPUT.PUT_LINE'], structure: 'anonymous_block' },
    tags: ['for-loop', 'basic'],
  },
  {
    id: 'CODE_016',
    category: 'control-structures',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Buatlah WHILE LOOP yang menghitung faktorial dari 5 (5! = 120).',
    requirements: ['Deklarasikan v_n NUMBER := 5 dan v_result NUMBER := 1', 'Gunakan WHILE LOOP', 'Kalikan v_result dengan counter', 'Tampilkan hasil faktorial'],
    starterCode: 'DECLARE\n  v_n NUMBER := 5;\n  v_result NUMBER := 1;\n  v_counter NUMBER := 1;\nBEGIN\n  -- WHILE LOOP untuk faktorial\n\n  DBMS_OUTPUT.PUT_LINE(\'Faktorial \' || v_n || \' = \' || v_result);\nEND;\n/',
    solution: 'DECLARE\n  v_n NUMBER := 5;\n  v_result NUMBER := 1;\n  v_counter NUMBER := 1;\nBEGIN\n  WHILE v_counter <= v_n LOOP\n    v_result := v_result * v_counter;\n    v_counter := v_counter + 1;\n  END LOOP;\n  DBMS_OUTPUT.PUT_LINE(\'Faktorial \' || v_n || \' = \' || v_result);\nEND;\n/',
    hints: ['WHILE kondisi LOOP ... END LOOP;', 'Faktorial: 1*2*3*4*5 = 120', 'Jangan lupa increment counter!'],
    validationRules: { mustContain: ['WHILE', 'LOOP', 'END LOOP', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_n', 'v_result'], structure: 'anonymous_block' },
    tags: ['while-loop', 'factorial'],
  },
  {
    id: 'CODE_017',
    category: 'control-structures',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Buatlah nested loop untuk mencetak tabel perkalian 1-5 (1x1 sampai 5x5).',
    requirements: ['Gunakan nested FOR LOOP', 'Outer loop untuk angka pertama (1-5)', 'Inner loop untuk angka kedua (1-5)', 'Tampilkan format: i x j = hasil'],
    starterCode: 'BEGIN\n  -- Nested loop untuk tabel perkalian\n\nEND;\n/',
    solution: 'BEGIN\n  FOR i IN 1..5 LOOP\n    FOR j IN 1..5 LOOP\n      DBMS_OUTPUT.PUT_LINE(i || \' x \' || j || \' = \' || (i * j));\n    END LOOP;\n  END LOOP;\nEND;\n/',
    hints: ['FOR LOOP bisa di-nest (satu di dalam yang lain)', 'Setiap loop punya counter sendiri', 'Gunakan || untuk gabung string dan angka'],
    validationRules: { mustContain: ['FOR', 'LOOP', 'END LOOP', 'DBMS_OUTPUT.PUT_LINE'], structure: 'anonymous_block' },
    tags: ['nested-loop', 'multiplication-table'],
  },
  {
    id: 'CODE_018',
    category: 'control-structures',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Gunakan EXIT WHEN di dalam simple LOOP untuk menjumlahkan angka 1 sampai 100.',
    requirements: ['Gunakan simple LOOP (bukan FOR/WHILE)', 'Gunakan EXIT WHEN untuk keluar saat counter > 100', 'Hitung jumlah total', 'Tampilkan hasil (harus 5050)'],
    starterCode: 'DECLARE\n  v_counter NUMBER := 1;\n  v_total NUMBER := 0;\nBEGIN\n  -- Simple LOOP dengan EXIT WHEN\n\n  DBMS_OUTPUT.PUT_LINE(\'Total: \' || v_total);\nEND;\n/',
    solution: 'DECLARE\n  v_counter NUMBER := 1;\n  v_total NUMBER := 0;\nBEGIN\n  LOOP\n    EXIT WHEN v_counter > 100;\n    v_total := v_total + v_counter;\n    v_counter := v_counter + 1;\n  END LOOP;\n  DBMS_OUTPUT.PUT_LINE(\'Total: \' || v_total);\nEND;\n/',
    hints: ['Simple LOOP dimulai dengan LOOP dan diakhiri END LOOP;', 'EXIT WHEN kondisi; keluar saat kondisi TRUE', 'Jangan lupa increment counter agar tidak infinite loop'],
    validationRules: { mustContain: ['LOOP', 'EXIT WHEN', 'END LOOP', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_counter', 'v_total'], structure: 'anonymous_block' },
    tags: ['simple-loop', 'exit-when', 'sum'],
  },
  {
    id: 'CODE_019',
    category: 'control-structures',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Implementasikan kalkulator sederhana menggunakan CASE statement. Terima operator (+, -, *, /) dan dua angka, tampilkan hasilnya.',
    requirements: ['Deklarasikan v_a NUMBER, v_b NUMBER, v_op VARCHAR2(1), v_result NUMBER', 'Gunakan CASE statement berdasarkan operator', 'Handle pembagian dengan nol', 'Tampilkan hasil atau pesan error'],
    starterCode: 'DECLARE\n  v_a NUMBER := 15;\n  v_b NUMBER := 3;\n  v_op VARCHAR2(1) := \'/\';\n  v_result NUMBER;\nBEGIN\n  -- Kalkulator dengan CASE\n\nEND;\n/',
    solution: 'DECLARE\n  v_a NUMBER := 15;\n  v_b NUMBER := 3;\n  v_op VARCHAR2(1) := \'/\';\n  v_result NUMBER;\nBEGIN\n  CASE v_op\n    WHEN \'+\' THEN v_result := v_a + v_b;\n    WHEN \'-\' THEN v_result := v_a - v_b;\n    WHEN \'*\' THEN v_result := v_a * v_b;\n    WHEN \'/\' THEN\n      IF v_b = 0 THEN\n        DBMS_OUTPUT.PUT_LINE(\'Error: Pembagian dengan nol!\');\n        RETURN;\n      ELSE\n        v_result := v_a / v_b;\n      END IF;\n    ELSE\n      DBMS_OUTPUT.PUT_LINE(\'Operator tidak valid!\');\n      RETURN;\n  END CASE;\n  DBMS_OUTPUT.PUT_LINE(v_a || \' \' || v_op || \' \' || v_b || \' = \' || v_result);\nEND;\n/',
    hints: ['CASE statement: CASE selector WHEN val THEN statement; END CASE;', 'Handle edge case pembagian dengan nol', 'ELSE untuk operator yang tidak valid'],
    validationRules: { mustContain: ['CASE', 'WHEN', 'END CASE', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_a', 'v_b', 'v_op'], structure: 'anonymous_block' },
    tags: ['case-statement', 'calculator'],
  },
  {
    id: 'CODE_020',
    category: 'control-structures',
    difficulty: 'Hard',
    type: 'code_challenge',
    question: 'Gunakan CONTINUE di FOR LOOP untuk mencetak hanya bilangan ganjil dari 1 sampai 20.',
    requirements: ['Gunakan FOR LOOP 1..20', 'Gunakan CONTINUE WHEN untuk skip bilangan genap', 'Tampilkan hanya bilangan ganjil'],
    starterCode: 'BEGIN\n  -- Loop dengan CONTINUE\n\nEND;\n/',
    solution: 'BEGIN\n  FOR i IN 1..20 LOOP\n    CONTINUE WHEN MOD(i, 2) = 0;\n    DBMS_OUTPUT.PUT_LINE(i);\n  END LOOP;\nEND;\n/',
    hints: ['CONTINUE WHEN kondisi; skip iterasi jika kondisi TRUE', 'MOD(n, 2) = 0 artinya genap', 'Bilangan ganjil: MOD(n, 2) = 1'],
    validationRules: { mustContain: ['FOR', 'LOOP', 'CONTINUE', 'DBMS_OUTPUT.PUT_LINE'], structure: 'anonymous_block' },
    tags: ['continue', 'odd-numbers', 'mod'],
  },
  {
    id: 'CODE_021',
    category: 'control-structures',
    difficulty: 'Hard',
    type: 'code_challenge',
    question: 'Buatlah nested IF untuk menentukan kategori BMI. BMI = berat / (tinggi_meter^2). Underweight < 18.5, Normal 18.5-24.9, Overweight 25-29.9, Obese >= 30.',
    requirements: ['Deklarasikan v_berat NUMBER := 70 dan v_tinggi NUMBER := 1.75', 'Hitung BMI', 'Gunakan IF-ELSIF untuk kategori', 'Tampilkan BMI dan kategorinya'],
    starterCode: 'DECLARE\n  v_berat NUMBER := 70;\n  v_tinggi NUMBER := 1.75;\n  v_bmi NUMBER;\n  v_kategori VARCHAR2(20);\nBEGIN\n  -- Hitung BMI dan tentukan kategori\n\nEND;\n/',
    solution: 'DECLARE\n  v_berat NUMBER := 70;\n  v_tinggi NUMBER := 1.75;\n  v_bmi NUMBER;\n  v_kategori VARCHAR2(20);\nBEGIN\n  v_bmi := ROUND(v_berat / (v_tinggi * v_tinggi), 1);\n  IF v_bmi < 18.5 THEN\n    v_kategori := \'Underweight\';\n  ELSIF v_bmi < 25 THEN\n    v_kategori := \'Normal\';\n  ELSIF v_bmi < 30 THEN\n    v_kategori := \'Overweight\';\n  ELSE\n    v_kategori := \'Obese\';\n  END IF;\n  DBMS_OUTPUT.PUT_LINE(\'BMI: \' || v_bmi || \' - \' || v_kategori);\nEND;\n/',
    hints: ['BMI = berat / (tinggi^2)', 'Gunakan ROUND untuk membulatkan', 'ELSIF menguji beberapa range berurutan'],
    validationRules: { mustContain: ['IF', 'ELSIF', 'END IF', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_bmi', 'v_kategori'], structure: 'anonymous_block' },
    tags: ['if-elsif', 'bmi', 'calculation'],
  },
  {
    id: 'CODE_022',
    category: 'control-structures',
    difficulty: 'Hard',
    type: 'code_challenge',
    question: 'Buatlah program yang mencetak pola segitiga bintang menggunakan nested loop. Tinggi 5 baris.',
    requirements: ['Gunakan nested FOR LOOP', 'Baris 1: *, Baris 2: **, ..., Baris 5: *****', 'Gunakan DBMS_OUTPUT.PUT untuk bintang dan PUT_LINE untuk newline'],
    starterCode: 'BEGIN\n  -- Pola segitiga\n\nEND;\n/',
    solution: 'DECLARE\n  v_line VARCHAR2(100);\nBEGIN\n  FOR i IN 1..5 LOOP\n    v_line := \'\';\n    FOR j IN 1..i LOOP\n      v_line := v_line || \'*\';\n    END LOOP;\n    DBMS_OUTPUT.PUT_LINE(v_line);\n  END LOOP;\nEND;\n/',
    hints: ['Outer loop mengontrol jumlah baris', 'Inner loop jumlah bintang = nomor baris', 'Kumpulkan bintang di variabel string, lalu cetak per baris'],
    validationRules: { mustContain: ['FOR', 'LOOP', 'END LOOP', 'DBMS_OUTPUT'], structure: 'anonymous_block' },
    tags: ['nested-loop', 'pattern', 'triangle'],
  },
];
