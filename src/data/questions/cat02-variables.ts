import { MCQuestion, CodeChallenge } from '@/types';

export const cat02MCQ: MCQuestion[] = [
  { id: 'MCQ_021', category: 'variables-data-types', difficulty: 'Easy', type: 'multiple_choice', question: 'Syntax mana yang BENAR untuk mendeklarasikan variabel di PL/SQL?', options: ['DECLARE v_nama STRING(50);', 'DECLARE v_nama VARCHAR2(50);', 'DIM v_nama AS VARCHAR2(50)', 'VAR v_nama VARCHAR2(50);'], correctAnswer: 1, explanation: 'Deklarasi variabel di PL/SQL menggunakan syntax: nama_variabel TIPE_DATA(ukuran); di dalam section DECLARE. VARCHAR2 adalah tipe data string di Oracle.', tags: ['declaration', 'syntax'] },
  { id: 'MCQ_022', category: 'variables-data-types', difficulty: 'Easy', type: 'multiple_choice', question: 'Tipe data apa yang digunakan untuk menyimpan nilai TRUE atau FALSE di PL/SQL?', options: ['BIT', 'BOOLEAN', 'BOOL', 'LOGICAL'], correctAnswer: 1, explanation: 'PL/SQL menggunakan tipe data BOOLEAN untuk menyimpan nilai TRUE, FALSE, atau NULL. BOOLEAN hanya tersedia di PL/SQL, bukan di SQL langsung.', tags: ['boolean', 'data-type'] },
  { id: 'MCQ_023', category: 'variables-data-types', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa fungsi dari %TYPE attribute?', options: ['Mengubah tipe data variabel saat runtime', 'Menentukan variabel memiliki tipe data yang sama dengan kolom tabel atau variabel lain', 'Membuat tipe data baru', 'Mengecek tipe data variabel'], correctAnswer: 1, explanation: '%TYPE digunakan agar variabel memiliki tipe data yang sama dengan kolom tabel atau variabel lain. Contoh: v_nama employees.first_name%TYPE; Ini memastikan kompatibilitas tipe data.', tags: ['%type', 'attribute'] },
  { id: 'MCQ_024', category: 'variables-data-types', difficulty: 'Medium', type: 'multiple_choice', question: 'Bagaimana cara membuat constant di PL/SQL?', options: ['v_pi CONSTANT NUMBER := 3.14;', 'CONST v_pi NUMBER := 3.14;', 'v_pi NUMBER CONST := 3.14;', 'FINAL v_pi NUMBER := 3.14;'], correctAnswer: 0, explanation: 'Constant di PL/SQL dideklarasikan dengan keyword CONSTANT setelah nama variabel: nama CONSTANT tipe := nilai; Constant harus di-initialize saat deklarasi dan tidak bisa diubah.', tags: ['constant', 'declaration'] },
  { id: 'MCQ_025', category: 'variables-data-types', difficulty: 'Easy', type: 'multiple_choice', question: 'Apa perbedaan VARCHAR2 dan CHAR di PL/SQL?', options: ['Tidak ada perbedaan', 'VARCHAR2 variable-length, CHAR fixed-length', 'CHAR variable-length, VARCHAR2 fixed-length', 'VARCHAR2 hanya untuk angka, CHAR untuk huruf'], correctAnswer: 1, explanation: 'VARCHAR2 menyimpan string dengan panjang variabel (hanya menggunakan space yang diperlukan). CHAR menyimpan string dengan panjang tetap (di-pad dengan spasi jika kurang).', tags: ['varchar2', 'char', 'comparison'] },
  { id: 'MCQ_026', category: 'variables-data-types', difficulty: 'Medium', type: 'multiple_choice', question: 'Operator apa yang digunakan untuk assignment di PL/SQL?', options: ['=', ':=', '<-', '=>'], correctAnswer: 1, explanation: 'Operator := digunakan untuk assignment di PL/SQL. Tanda = digunakan untuk perbandingan, dan => untuk named notation.', tags: ['assignment', 'operator'] },
  { id: 'MCQ_027', category: 'variables-data-types', difficulty: 'Hard', type: 'multiple_choice', question: 'Apa yang terjadi jika variabel NOT NULL tidak di-initialize?', options: ['Bernilai NULL secara default', 'Bernilai 0 atau string kosong', 'Menghasilkan compile-time error', 'Menghasilkan runtime error VALUE_ERROR'], correctAnswer: 2, explanation: 'Jika variabel dideklarasikan NOT NULL tapi tidak di-initialize, Oracle akan memunculkan error saat kompilasi karena variabel NOT NULL harus memiliki nilai awal.', tags: ['not-null', 'initialization', 'error'] },
  { id: 'MCQ_028', category: 'variables-data-types', difficulty: 'Easy', type: 'multiple_choice', question: 'Bagaimana cara deklarasi variabel dengan default value?', options: ['v_count NUMBER = 0;', 'v_count NUMBER := 0;', 'v_count NUMBER DEFAULT 0;', 'Baik B maupun C benar'], correctAnswer: 3, explanation: 'Ada dua cara memberikan default value: menggunakan := (assignment operator) atau keyword DEFAULT. Keduanya valid: v_count NUMBER := 0; atau v_count NUMBER DEFAULT 0;', tags: ['default', 'initialization'] },
  { id: 'MCQ_029', category: 'variables-data-types', difficulty: 'Hard', type: 'multiple_choice', question: 'Berapa ukuran maksimal VARCHAR2 di PL/SQL?', options: ['4000 bytes', '32767 bytes', '2000 bytes', '65535 bytes'], correctAnswer: 1, explanation: 'Di PL/SQL, VARCHAR2 bisa menampung hingga 32,767 bytes. Ini berbeda dengan VARCHAR2 di SQL yang maksimal 4,000 bytes (atau 32,767 dengan extended data types di 12c).', tags: ['varchar2', 'size', 'limit'] },
  { id: 'MCQ_030', category: 'variables-data-types', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa yang dimaksud dengan %ROWTYPE?', options: ['Tipe data untuk menyimpan satu baris dari tabel', 'Tipe data untuk nomor baris', 'Tipe data khusus untuk trigger', 'Tipe data untuk cursor'], correctAnswer: 0, explanation: '%ROWTYPE membuat record yang memiliki field yang sama dengan kolom-kolom dari tabel atau cursor. Contoh: v_emp employees%ROWTYPE; akan membuat record dengan semua kolom tabel employees.', tags: ['%rowtype', 'record'] },
  { id: 'MCQ_031', category: 'variables-data-types', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa default value dari variabel NUMBER yang tidak di-initialize?', options: ['0', '1', 'NULL', 'Error'], correctAnswer: 2, explanation: 'Semua variabel PL/SQL yang tidak di-initialize memiliki nilai default NULL, termasuk NUMBER. NULL artinya "tidak ada nilai" atau "tidak diketahui".', tags: ['default', 'null', 'number'] },
  { id: 'MCQ_032', category: 'variables-data-types', difficulty: 'Easy', type: 'multiple_choice', question: 'Tipe data NUMBER(7,2) artinya apa?', options: ['7 digit total dengan 2 digit desimal', '7 digit sebelum koma, 2 setelah koma', '2 digit total dengan 7 digit desimal', 'Radius 7 dengan presisi 2'], correctAnswer: 0, explanation: 'NUMBER(precision, scale) â€” precision adalah total digit, scale adalah jumlah digit setelah koma desimal. Jadi NUMBER(7,2) bisa menyimpan angka dengan 5 digit sebelum koma dan 2 digit setelah koma, misal 12345.67.', tags: ['number', 'precision', 'scale'] },
  { id: 'MCQ_033', category: 'variables-data-types', difficulty: 'Hard', type: 'multiple_choice', question: 'Manakah yang BENAR tentang variabel BOOLEAN di PL/SQL?', options: ['BOOLEAN bisa digunakan di SQL SELECT statement', 'BOOLEAN hanya bisa bernilai TRUE atau FALSE', 'BOOLEAN bisa bernilai TRUE, FALSE, atau NULL', 'BOOLEAN bisa disimpan di kolom tabel Oracle'], correctAnswer: 2, explanation: 'Variabel BOOLEAN di PL/SQL bisa bernilai TRUE, FALSE, atau NULL. Namun, BOOLEAN TIDAK bisa digunakan langsung dalam SQL statement dan tidak bisa disimpan di kolom tabel.', tags: ['boolean', 'null', 'limitation'] },
  { id: 'MCQ_034', category: 'variables-data-types', difficulty: 'Easy', type: 'multiple_choice', question: 'Bagaimana cara mendeklarasikan variabel dengan tipe yang sama dengan kolom employees.salary?', options: ['v_sal NUMBER;', 'v_sal employees.salary%TYPE;', 'v_sal TYPE OF employees.salary;', 'v_sal LIKE employees.salary;'], correctAnswer: 1, explanation: 'Syntax %TYPE digunakan setelah nama tabel.kolom: v_sal employees.salary%TYPE; Ini akan memberikan tipe data yang persis sama dengan kolom salary.', tags: ['%type', 'syntax'] },
  { id: 'MCQ_035', category: 'variables-data-types', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa tipe data yang tepat untuk menyimpan tanggal dan waktu di PL/SQL?', options: ['DATETIME', 'DATE', 'TIMESTAMP', 'DATE menyimpan tanggal saja, TIMESTAMP menyimpan tanggal + waktu presisi tinggi'], correctAnswer: 3, explanation: 'DATE menyimpan tanggal dan waktu (jam, menit, detik) tapi tanpa fractional seconds. TIMESTAMP menyimpan tanggal dan waktu dengan fractional seconds (presisi hingga nanosecond).', tags: ['date', 'timestamp', 'comparison'] },
  { id: 'MCQ_036', category: 'variables-data-types', difficulty: 'Medium', type: 'multiple_choice', question: 'Apa yang terjadi jika kita mencoba mengubah nilai CONSTANT?', options: ['Nilai berubah seperti biasa', 'Oracle mengabaikan perubahan', 'Menghasilkan compile-time error', 'Menghasilkan runtime warning'], correctAnswer: 2, explanation: 'Jika kita mencoba mengubah nilai variabel yang dideklarasikan CONSTANT menggunakan :=, Oracle akan memunculkan error saat kompilasi (PLS-00363: expression is not an assignment target).', tags: ['constant', 'error'] },
  { id: 'MCQ_037', category: 'variables-data-types', difficulty: 'Hard', type: 'multiple_choice', question: 'Tipe data PLS_INTEGER vs NUMBER, mana yang lebih efisien untuk operasi integer?', options: ['NUMBER selalu lebih cepat', 'PLS_INTEGER lebih cepat karena menggunakan machine arithmetic', 'Keduanya sama', 'Tergantung pada ukuran angka saja'], correctAnswer: 1, explanation: 'PLS_INTEGER (atau BINARY_INTEGER) lebih cepat dari NUMBER untuk operasi integer karena menggunakan machine arithmetic native, sedangkan NUMBER menggunakan library arithmetic. PLS_INTEGER cocok untuk loop counters dan perhitungan integer.', tags: ['pls_integer', 'performance', 'number'] },
  { id: 'MCQ_038', category: 'variables-data-types', difficulty: 'Easy', type: 'multiple_choice', question: 'Apa nama operator untuk concatenation (penggabungan) string di PL/SQL?', options: ['+', '&', '||', 'CONCAT'], correctAnswer: 2, explanation: 'Operator || (double pipe) digunakan untuk menggabungkan string di PL/SQL. Contoh: \'Hello\' || \' \' || \'World\' menghasilkan \'Hello World\'. Fungsi CONCAT juga ada tapi hanya menerima 2 parameter.', tags: ['concatenation', 'string', 'operator'] },
];

export const cat02Code: CodeChallenge[] = [
  {
    id: 'CODE_006',
    category: 'variables-data-types',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Buatlah PL/SQL block yang mendeklarasikan variabel nama_mahasiswa (VARCHAR2(50)) dan umur (NUMBER), assign nilainya, lalu tampilkan menggunakan DBMS_OUTPUT.PUT_LINE.',
    requirements: ['Deklarasikan variabel nama_mahasiswa VARCHAR2(50)', 'Deklarasikan variabel umur NUMBER', 'Assign nilai ke kedua variabel', 'Tampilkan menggunakan DBMS_OUTPUT.PUT_LINE'],
    starterCode: 'DECLARE\n  -- Deklarasi variabel\n\nBEGIN\n  -- Assign dan tampilkan\n\nEND;\n/',
    solution: 'DECLARE\n  nama_mahasiswa VARCHAR2(50) := \'Budi Santoso\';\n  umur NUMBER := 21;\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Nama: \' || nama_mahasiswa);\n  DBMS_OUTPUT.PUT_LINE(\'Umur: \' || umur);\nEND;\n/',
    hints: ['Gunakan := untuk assignment', 'VARCHAR2 untuk teks, NUMBER untuk angka', 'Gunakan || untuk concatenation'],
    validationRules: { mustContain: ['DECLARE', 'BEGIN', 'END', 'VARCHAR2', 'NUMBER', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['nama_mahasiswa', 'umur'], structure: 'anonymous_block' },
    tags: ['variables', 'data-types', 'basic'],
  },
  {
    id: 'CODE_007',
    category: 'variables-data-types',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Gunakan %TYPE attribute untuk mendeklarasikan variabel yang bertipe sama dengan kolom employees.first_name dan employees.salary. Assign nilai dan tampilkan.',
    requirements: ['Gunakan %TYPE untuk v_nama mereferensi employees.first_name', 'Gunakan %TYPE untuk v_gaji mereferensi employees.salary', 'Assign dan tampilkan nilai'],
    starterCode: 'DECLARE\n  -- Gunakan %TYPE\n\nBEGIN\n  -- Assign dan tampilkan\n\nEND;\n/',
    solution: 'DECLARE\n  v_nama employees.first_name%TYPE := \'John\';\n  v_gaji employees.salary%TYPE := 8500;\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Nama: \' || v_nama);\n  DBMS_OUTPUT.PUT_LINE(\'Gaji: \' || v_gaji);\nEND;\n/',
    hints: ['Syntax: variabel tabel.kolom%TYPE', '%TYPE mengambil tipe data dari kolom yang direferensi', 'Anda tetap harus assign nilai sendiri'],
    validationRules: { mustContain: ['DECLARE', 'BEGIN', 'END', '%TYPE', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_nama', 'v_gaji'], structure: 'anonymous_block' },
    tags: ['%type', 'attribute'],
  },
  {
    id: 'CODE_008',
    category: 'variables-data-types',
    difficulty: 'Easy',
    type: 'code_challenge',
    question: 'Buatlah constant untuk nilai PI (3.14159) dan hitung luas lingkaran dengan jari-jari 7. Tampilkan hasilnya.',
    requirements: ['Deklarasikan c_pi sebagai CONSTANT NUMBER := 3.14159', 'Deklarasikan v_radius NUMBER := 7', 'Hitung luas = PI * r * r', 'Tampilkan hasil luas'],
    starterCode: 'DECLARE\n  -- Constant dan variabel\n\nBEGIN\n  -- Hitung dan tampilkan\n\nEND;\n/',
    solution: 'DECLARE\n  c_pi CONSTANT NUMBER := 3.14159;\n  v_radius NUMBER := 7;\n  v_luas NUMBER;\nBEGIN\n  v_luas := c_pi * v_radius * v_radius;\n  DBMS_OUTPUT.PUT_LINE(\'Luas lingkaran: \' || v_luas);\nEND;\n/',
    hints: ['Gunakan CONSTANT keyword setelah nama variabel', 'Rumus luas lingkaran: PI * r^2', 'CONSTANT harus di-initialize saat deklarasi'],
    validationRules: { mustContain: ['DECLARE', 'BEGIN', 'END', 'CONSTANT', 'NUMBER', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['c_pi'], structure: 'anonymous_block' },
    tags: ['constant', 'arithmetic'],
  },
  {
    id: 'CODE_009',
    category: 'variables-data-types',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Deklarasikan variabel NOT NULL v_kode_pos VARCHAR2(5) NOT NULL dan tunjukkan bahwa variabel ini harus di-initialize saat deklarasi.',
    requirements: ['Deklarasikan v_kode_pos VARCHAR2(5) NOT NULL', 'Initialize dengan nilai \'12345\'', 'Ubah nilainya ke \'67890\'', 'Tampilkan kedua nilai'],
    starterCode: 'DECLARE\n  -- Variabel NOT NULL\n\nBEGIN\n  -- Tampilkan dan ubah nilai\n\nEND;\n/',
    solution: 'DECLARE\n  v_kode_pos VARCHAR2(5) NOT NULL := \'12345\';\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Kode pos awal: \' || v_kode_pos);\n  v_kode_pos := \'67890\';\n  DBMS_OUTPUT.PUT_LINE(\'Kode pos baru: \' || v_kode_pos);\nEND;\n/',
    hints: ['NOT NULL ditulis setelah tipe data: VARCHAR2(5) NOT NULL', 'Variabel NOT NULL HARUS di-initialize', 'Nilainya bisa diubah, asal bukan NULL'],
    validationRules: { mustContain: ['DECLARE', 'BEGIN', 'END', 'NOT NULL', 'VARCHAR2', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_kode_pos'], structure: 'anonymous_block' },
    tags: ['not-null', 'constraint'],
  },
  {
    id: 'CODE_010',
    category: 'variables-data-types',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Lakukan operasi aritmatika dengan variabel NUMBER: hitung total harga setelah diskon. Deklarasikan harga (150000), jumlah barang (3), dan diskon (10%).',
    requirements: ['Deklarasikan v_harga NUMBER := 150000', 'Deklarasikan v_jumlah NUMBER := 3', 'Deklarasikan v_diskon NUMBER := 10 (persen)', 'Hitung subtotal, diskon, dan total', 'Tampilkan semua hasil'],
    starterCode: 'DECLARE\n  -- Variabel harga\n\nBEGIN\n  -- Hitung dan tampilkan\n\nEND;\n/',
    solution: 'DECLARE\n  v_harga NUMBER := 150000;\n  v_jumlah NUMBER := 3;\n  v_diskon NUMBER := 10;\n  v_subtotal NUMBER;\n  v_potongan NUMBER;\n  v_total NUMBER;\nBEGIN\n  v_subtotal := v_harga * v_jumlah;\n  v_potongan := v_subtotal * v_diskon / 100;\n  v_total := v_subtotal - v_potongan;\n  DBMS_OUTPUT.PUT_LINE(\'Subtotal: \' || v_subtotal);\n  DBMS_OUTPUT.PUT_LINE(\'Diskon: \' || v_potongan);\n  DBMS_OUTPUT.PUT_LINE(\'Total: \' || v_total);\nEND;\n/',
    hints: ['Subtotal = harga * jumlah', 'Potongan = subtotal * diskon / 100', 'Total = subtotal - potongan'],
    validationRules: { mustContain: ['DECLARE', 'BEGIN', 'END', 'NUMBER', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_harga', 'v_jumlah'], structure: 'anonymous_block' },
    tags: ['arithmetic', 'number', 'calculation'],
  },
  {
    id: 'CODE_011',
    category: 'variables-data-types',
    difficulty: 'Hard',
    type: 'code_challenge',
    question: 'Buatlah PL/SQL block yang menggunakan %ROWTYPE untuk mendeklarasikan variabel record seperti baris tabel employees, lalu isi field-fieldnya dan tampilkan.',
    requirements: ['Gunakan employees%ROWTYPE', 'Assign nilai ke field employee_id, first_name, last_name, salary', 'Tampilkan semua field yang di-assign'],
    starterCode: 'DECLARE\n  -- Record variable\n\nBEGIN\n  -- Assign dan tampilkan\n\nEND;\n/',
    solution: 'DECLARE\n  v_emp employees%ROWTYPE;\nBEGIN\n  v_emp.employee_id := 100;\n  v_emp.first_name := \'Steven\';\n  v_emp.last_name := \'King\';\n  v_emp.salary := 24000;\n  DBMS_OUTPUT.PUT_LINE(\'ID: \' || v_emp.employee_id);\n  DBMS_OUTPUT.PUT_LINE(\'Nama: \' || v_emp.first_name || \' \' || v_emp.last_name);\n  DBMS_OUTPUT.PUT_LINE(\'Gaji: \' || v_emp.salary);\nEND;\n/',
    hints: ['Syntax: v_emp tabel%ROWTYPE;', 'Akses field dengan dot notation: v_emp.nama_kolom', '%ROWTYPE membuat record dengan semua kolom tabel'],
    validationRules: { mustContain: ['DECLARE', 'BEGIN', 'END', '%ROWTYPE', 'DBMS_OUTPUT.PUT_LINE'], mustDeclare: ['v_emp'], structure: 'anonymous_block' },
    tags: ['%rowtype', 'record', 'advanced'],
  },
  {
    id: 'CODE_012',
    category: 'variables-data-types',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Demonstrasikan konversi tipe data implisit dan eksplisit. Konversi string angka ke NUMBER menggunakan TO_NUMBER, dan NUMBER ke string menggunakan TO_CHAR.',
    requirements: ['Deklarasikan v_str VARCHAR2(10) := \'12345\'', 'Konversi ke NUMBER dengan TO_NUMBER', 'Konversi NUMBER ke string terformat dengan TO_CHAR', 'Tampilkan hasil konversi'],
    starterCode: 'DECLARE\n  -- Variabel untuk konversi\n\nBEGIN\n  -- Konversi dan tampilkan\n\nEND;\n/',
    solution: 'DECLARE\n  v_str VARCHAR2(10) := \'12345\';\n  v_num NUMBER;\n  v_formatted VARCHAR2(20);\nBEGIN\n  v_num := TO_NUMBER(v_str);\n  v_formatted := TO_CHAR(v_num, \'99,999\');\n  DBMS_OUTPUT.PUT_LINE(\'String: \' || v_str);\n  DBMS_OUTPUT.PUT_LINE(\'Number: \' || v_num);\n  DBMS_OUTPUT.PUT_LINE(\'Formatted: \' || v_formatted);\nEND;\n/',
    hints: ['TO_NUMBER mengkonversi string ke angka', 'TO_CHAR mengkonversi angka/tanggal ke string', 'Format mask \'99,999\' menampilkan angka dengan pemisah ribuan'],
    validationRules: { mustContain: ['DECLARE', 'BEGIN', 'END', 'TO_NUMBER', 'TO_CHAR', 'DBMS_OUTPUT.PUT_LINE'], structure: 'anonymous_block' },
    tags: ['conversion', 'to_number', 'to_char'],
  },
];
