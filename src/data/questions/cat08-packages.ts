import { MCQuestion, CodeChallenge } from '@/types';

export const cat08MCQ: MCQuestion[] = [
  { id: 'MCQ_111', category: 'packages', difficulty: 'Easy', type: 'multiple_choice', question: 'Apa keuntungan menggunakan package?', options: ['Mengurangi ukuran database', 'Mengelompokkan subprogram terkait, enkapsulasi, dan modularitas', 'Membuat program lebih cepat', 'Memungkinkan akses database ganda'], correctAnswer: 1, explanation: 'Package mengelompokkan subprogram (procedure, function), variabel, dan tipe data yang terkait. Keuntungan: modularitas, enkapsulasi (public/private), overloading, dan performa (satu kali load ke memory).', tags: ['advantage', 'modularity'] },
  { id: 'MCQ_112', category: 'packages', difficulty: 'Easy', type: 'multiple_choice', question: 'Apa perbedaan package spec dan package body?', options: ['Tidak ada perbedaan', 'Spec = interface publik (deklarasi), Body = implementasi', 'Body = interface publik, Spec = implementasi', 'Spec untuk testing, Body untuk production'], correctAnswer: 1, explanation: 'Package specification mendeklarasikan elemen publik (interface). Package body berisi implementasi dari elemen yang dideklarasikan di spec, plus elemen private.', tags: ['spec', 'body', 'difference'] },
  { id: 'MCQ_113', category: 'packages', difficulty: 'Medium', type: 'multiple_choice', question: 'Apakah package spec bisa exist tanpa package body?', options: ['Tidak, keduanya wajib ada', 'Ya, jika spec hanya berisi deklarasi tipe, constant, atau variabel (tanpa subprogram)', 'Ya, selalu', 'Hanya di Oracle 12c+'], correctAnswer: 1, explanation: 'Package spec bisa ada tanpa body JIKA hanya berisi deklarasi tipe data, constant, variabel, atau exception. Jika ada subprogram (procedure/function), body WAJIB ada untuk implementasi.', tags: ['spec-only', 'rule'] },
  { id: 'MCQ_114', category: 'packages', difficulty: 'Medium', type: 'multiple_choice', question: 'Bagaimana cara declare private procedure di package?', options: ['Deklarasikan di spec dengan keyword PRIVATE', 'Deklarasikan HANYA di body, bukan di spec', 'Gunakan modifier private', 'Tidak bisa, semua procedure di package bersifat public'], correctAnswer: 1, explanation: 'Untuk membuat private procedure: hanya deklarasikan di package body, BUKAN di spec. Elemen yang ada di spec bersifat public, yang hanya di body bersifat private.', tags: ['private', 'encapsulation'] },
  { id: 'MCQ_115', category: 'packages', difficulty: 'Hard', type: 'multiple_choice', question: 'Apa yang dimaksud package state?', options: ['Status compile package', 'Nilai variabel package-level yang dipertahankan selama session', 'State machine dalam package', 'Status valid/invalid package'], correctAnswer: 1, explanation: 'Package state = nilai variabel dan cursor yang dideklarasikan di package level. State dipertahankan selama database session aktif (per-session state). Setiap session punya copy sendiri.', tags: ['state', 'session'] },
  { id: 'MCQ_116', category: 'packages', difficulty: 'Easy', type: 'multiple_choice', question: 'Bagaimana cara call procedure dari package?', options: ['procedure_name();', 'package_name.procedure_name();', 'CALL package_name::procedure_name();', 'EXEC package_name->procedure_name();'], correctAnswer: 1, explanation: 'Gunakan dot notation: package_name.procedure_name(params); Contoh: pkg_utils.calculate_bonus(1000);', tags: ['call', 'dot-notation'] },
  { id: 'MCQ_117', category: 'packages', difficulty: 'Medium', type: 'multiple_choice', question: 'Built-in package apa yang digunakan untuk menampilkan output?', options: ['DBMS_SQL', 'UTL_FILE', 'DBMS_OUTPUT', 'DBMS_DISPLAY'], correctAnswer: 2, explanation: 'DBMS_OUTPUT package memiliki procedure PUT_LINE dan PUT untuk menampilkan output ke buffer yang bisa ditampilkan di SQL*Plus atau SQL Developer.', tags: ['dbms_output', 'built-in'] },
  { id: 'MCQ_118', category: 'packages', difficulty: 'Hard', type: 'multiple_choice', question: 'Apakah overloading diperbolehkan dalam package?', options: ['Tidak', 'Ya, procedure/function dengan nama sama tapi parameter berbeda', 'Hanya untuk function', 'Hanya di Oracle 19c+'], correctAnswer: 1, explanation: 'Package mendukung overloading: beberapa subprogram dengan nama yang sama tapi parameter list berbeda (jumlah, tipe, atau urutan parameter). Oracle memilih yang sesuai berdasarkan arguments.', tags: ['overloading'] },
];

export const cat08Code: CodeChallenge[] = [
  {
    id: 'CODE_035',
    category: 'packages',
    difficulty: 'Medium',
    type: 'code_challenge',
    question: 'Buat package pkg_math dengan spec dan body. Spec mendeklarasikan function add dan multiply. Body mengimplementasikannya.',
    requirements: ['CREATE OR REPLACE PACKAGE pkg_math', 'Deklarasikan function add(a NUMBER, b NUMBER) RETURN NUMBER', 'Deklarasikan function multiply(a NUMBER, b NUMBER) RETURN NUMBER', 'Buat package body dengan implementasi', 'Panggil kedua function'],
    starterCode: '-- Package Spec\n\n-- Package Body\n\n-- Test\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(pkg_math.add(5, 3));\n  DBMS_OUTPUT.PUT_LINE(pkg_math.multiply(5, 3));\nEND;\n/',
    solution: 'CREATE OR REPLACE PACKAGE pkg_math IS\n  FUNCTION add(a NUMBER, b NUMBER) RETURN NUMBER;\n  FUNCTION multiply(a NUMBER, b NUMBER) RETURN NUMBER;\nEND pkg_math;\n/\n\nCREATE OR REPLACE PACKAGE BODY pkg_math IS\n  FUNCTION add(a NUMBER, b NUMBER) RETURN NUMBER IS\n  BEGIN\n    RETURN a + b;\n  END;\n  \n  FUNCTION multiply(a NUMBER, b NUMBER) RETURN NUMBER IS\n  BEGIN\n    RETURN a * b;\n  END;\nEND pkg_math;\n/\n\nBEGIN\n  DBMS_OUTPUT.PUT_LINE(\'Add: \' || pkg_math.add(5, 3));\n  DBMS_OUTPUT.PUT_LINE(\'Multiply: \' || pkg_math.multiply(5, 3));\nEND;\n/',
    hints: ['PACKAGE spec IS ... END package_name;', 'PACKAGE BODY name IS ... END name;', 'Panggil: package_name.function_name()'],
    validationRules: { mustContain: ['PACKAGE', 'BODY', 'FUNCTION', 'RETURN', 'BEGIN', 'END'] },
    tags: ['package', 'spec', 'body'],
  },
];
